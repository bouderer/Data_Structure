\centering
# __中山大学计算机学院本科生实验报告__
### （__2025学年第1学期）__
#### __课程名称：数据结构与算法　　　　实验任课教师：张子臻__



| | | | |
|:---:|:---:|:---:|:---:|
|年级|2024级|专业（方向）|计算机科学与技术（人工智能与大数据）|
|学号|242325157|姓名|梁玮麟|
|电话|18620062182|Email|3371676041@qq.com|
|开始日期|2025.10.15|结束日期|2025.10.19|  
\raggedright 

## __第一题__
### 1、实验题目

#### z6-明明的随机数

##### 题目描述

明明想在学校中请一些同学一起做一项问卷调查，为了实验的客观性，他先用计算机生成了N个1到1000之间的随机整数（N<=100），对于其中重复的数字，只保留一个，把其余相同的数去掉，不同的数对应着不同的学生的学号。然后再把这些数从小到大排序，按照排好的顺序去找同学做调查。请你协助明明完成“去重”与“排序”的工作。

##### 输入描述

输入包含多个测试数据。
每个测试数据有2行，第1行为1个正整数，表示所生成的随机数的个数N，第2行有N个用空格隔开的正整数，为所产生的随机数。

##### 输出描述

对每个测试数据输出2行。第1行为1个正整数M，表示不相同的随机数的个数。第2行为M个用空格隔开的正整数，为从小到大排好序的不相同的随机数。

##### 输入样例

```cpp
10
20 40 32 67 40 20 89 300 400 15

3
3 2 1
```

##### 输出样例

```cpp
8
15 20 32 40 67 89 300 400

3
1 2 3
```

### 2、实验目的
- 掌握“去重 + 排序”的两种常见实现：基于有序集合与基于计数桶。
- 体会多组数据的读写与输出格式控制（先数量、后有序序列）。

### 3、算法设计

#### 设计思路如下：
- **整体思路：** 输入一组整数，完成去重并按升序输出。
- **方案A：有序集合 `set<int>`**——逐个插入，容器自动去重且保持有序；最终输出 `size()` 和遍历元素。
  - 复杂度：插入均摊 `O(log K)`，整体 `O(N log K)`；空间 `O(K)`（K 为不重复元素个数）。
- **方案B：计数桶/位图**——题目给定取值区间 `[1,1000]`，使用长度为 1001 的标记数组；读到 `x` 就置 `bucket[x]=1`，最后顺序扫描输出。
  - 复杂度：`O(N+U)`（U 为范围 1000），常数小；空间 `O(U)`。

#### 细节注意：

- 我首先想到的是直接使用set，但是使用桶排序的效率更高。
- 多组输入需在每组开始时清空容器或重置桶。
- 输出格式严格：先数量、换行，再空格分隔的升序序列（末尾空格不敏感）。

#### 具体实现：

```cpp
//z5-方程求解
//version1
#include <iostream>
#include <set>
using namespace std;
int main() {
    int N;
    while (cin >> N) {
        set<int> s;
        for (int i = 0; i < N; i++) {
            int m;
            cin >> m;
            s.insert(m);
        }
        cout << s.size()<<endl;
        for (auto val : s) { cout << val << " "; }
    }
    return 0;
}
```

```cpp
//z5-方程求解
//verison2
#include<iostream>
using namespace std;
int main(){
    int n;
    while(cin>>n){
        int bucket[1001]={0};
        int sum=0;
        for(int i=0;i<n;i++){
            int m;
            cin>>m;
            if(bucket[m]!=1){
                sum++;
                bucket[m]=1;
            }
        }
        cout<<sum<<endl;
        for(int i=1;i<=1000;i++){
            if(bucket[i]==1) cout<<i<<" ";
        }
    }
    return 0;
}
```

### 4、程序运行与测试

#### 运行结果：

##### 数据点一  

- 标准输入：

```c++
70
302 457 215 315 437 447 231 189 301 407 89 306 407 515 40 321 120 40 321 617 627 637 679 67 430 230 8 303 408 125 15 497 447 241 89 301 402 515 40 321 120 40 321 677 40 327 67 40 20 89 301 407 15 499 440 240 89 301 407 515 40 321 67 410 20 89 301 407 15 498

```

- 实际输出：
  
```c++
39
8 15 20 40 67 89 120 125 189 215 230 231 240 241 301 302 303 306 315 321 327 402 407 408 410 430 437 440 447 457 497 498 499 515 617 627 637 677 679 

```

- 期望输出：
  
```c++
39
8 15 20 40 67 89 120 125 189 215 230 231 240 241 301 302 303 306 315 321 327 402 407 408 410 430 437 440 447 457 497 498 499 515 617 627 637 677 679 

```

##### 数据点二


- 标准输入：

```c++
90
7 2 315 437 447 231 189 301 407 8 407 84 341 408 525 41 322 220 40 321 302 457 215 315 437 447 231 189 301 407 89 301 407 515 40 321 120 40 321 679 678 676 659 67 409 201 899 801 407 185 5 497 447 241 89 301 407 515 40 321 120 490 321 677 40 321 67 40 20 891 301 407 15 499 440 240 89 301 407 515 40 321 67 410 20 89 301 407 15 498


```

- 实际输出：
  
```c++
48
2 5 7 8 15 20 40 41 67 84 89 120 185 189 201 215 220 231 240 241 301 302 315 321 322 341 407 408 409 410 437 440 447 457 490 497 498 499 515 525 659 676 677 678 679 801 891 899 
```

- 期望输出：
  
```c++
48
2 5 7 8 15 20 40 41 67 84 89 120 185 189 201 215 220 231 240 241 301 302 315 321 322 341 407 408 409 410 437 440 447 457 490 497 498 499 515 525 659 676 677 678 679 801 891 899 
```


### 5、实验总结与心得
- 范围小且已知时，桶法最简单高效；范围未知或很大时，`set` 更稳妥也更通用。
- 易错点在于多组输入的状态重置与输出格式（尤其是数量与序列的分隔换行）。

## __第二题__

### 1、实验题目

#### z6-Mergesort for List

##### 题目描述

Please use mergesort to sort a linked list of data.
The linked list is defined as follows.

```cpp
struct linkedlist{
 int data;
 linkedlist *next;
 };
```

Please implement the following function.

```cpp
#include "mergeSort.h"
//sort the list by mergesort and return the head of it
void mergesort(linkedlist *&head, int len){
 //add your code here
}
```

##### 提示

1->3->2->4->NULL
其中 1 是 head

### 2、实验目的
- 理解归并排序在**单链表**上的落地实现：只用指针完成“分 + 合”。
- 掌握哑结点（dummy head）与子段**断开/回接**的边界处理。

### 3、算法设计

#### 设计思路如下：

- **总体结构：** `mergesort(head, len)` → 递归 `sort(head, left, right)` → 每次将 `[left, right]` 拆为 `[left, mid]` 与 `[mid+1, right]`，分别排序后调用 `merge()` 归并。

- **`merge()` 关键步骤（就地归并）：**
  1. 建哑结点 `top` 令其指向 `head`，便于头结点变化时统一处理。
  2. 线性定位：`begin`（`left` 的前驱）、`lptr`（左段头）、`mptr`（mid）、`rptr`（右段头= `mptr->next`）、`rightNode`（`right`）、`end`（`right` 的下一个）。
  3. **先截断**：`mptr->next=nullptr`、`rightNode->next=nullptr`，把左右两段变成独立小链表，避免环或误连接。
  4. **双指针归并**：谁小接谁到 `begin->next` 并推进对应指针；某一侧耗尽后把另一侧整段接上。
  5. **回接区间外**：把新段尾接回 `end`；更新 `head = top->next` 并释放哑结点。

- **复杂度：** 每层线性归并，整体 `O(nlog n)`；除递归栈外为原地指针操作，额外空间 `O(1)`（不含栈）。

#### 细节注意：

- 头节点`head`会在排序中改变，每次排序完之后需要重新将`head`节点设置成`top->next`。
- 将左右两段用`nullptr`截断并非必要，但是必须要将**最后一个节点的**`next`指向`end`。
- 注意千万不要出现`nullptr->next`的情况！！！

#### 具体实现：

```cpp
//z6-Merge sort for list
#include<iostream>
#include"mergeSort.h"
using namespace std;
void sort(linkedlist *&head,int left, int right );
void merge(linkedlist*& head,int left, int mid, int right);
void mergesort(linkedlist *&head, int len){
    sort(head, 1,len);
}
void sort(linkedlist *&head,int left, int right ){
    if(right<=left) return ;
    else {
        int mid = (left+right)/2;
        sort(head,left,mid);
        sort(head,mid+1,right);
        merge(head,left,mid,right);
    }
}
void merge(linkedlist*& head,int left, int mid, int right){
    //
    linkedlist* top=new linkedlist;
    top->next=head;
    linkedlist* t=top;//用来找到对应节点
    linkedlist* end=nullptr;;//用来保存尾节点
    linkedlist* begin=top;//用来找到Left的上一个节点
    linkedlist* lptr=nullptr,*mptr=nullptr,*rptr=nullptr;
    for(int i=0;i<=right;i++){
        if(i==left-1) begin=t;
        if(i==left) lptr=t;
        if(i==mid){
            mptr=t;
            rptr=mptr->next;
            t=rptr;
            mptr->next=nullptr;//提前截断，避免出现环的情况
            continue;
        }
        if(i==right){
            end=t->next;
            t->next=nullptr;//同理
            continue;
        }
        t=t->next;
    }
    while(lptr&&rptr){
        if(lptr->data<=rptr->data){
            begin->next=lptr;
            begin=begin->next;
            lptr=lptr->next;
        }else{
            begin->next=rptr;
            begin=begin->next;
            rptr=rptr->next;
        }
    }
    while(lptr){
        begin->next=lptr;
        begin=begin->next;
        lptr=lptr->next;
    }
    while(rptr){
        begin->next=rptr;
        begin=begin->next;
        rptr=rptr->next;
    }
    begin->next=end;
    head=top->next;
    delete top;
}
```

### 4、程序运行与测试

#### 运行结果：

- 标准输入：
  
```c++
500 7146 744 3638 6476 5655 3026 7007 4160 6294 4837 6054 7632 4152 9225 4375 1976 3179 3418 7657 4088 7025 9242 2312 5320 8628 4259 1209 8609 7826 7106 2304 3244 4413 2335 7110 3883 3638 5047 7437 2599 6279 9797 4186 2565 5089 32 5603 8391 5533 4425 4653 7088 6356 4860 8254 5123 4067 1474 6247 9601 7091 4559 2149 2019 4087 3600 2500 3384 9882 4627 4630 7993 5345 5292 1378 1431 2709 7312 2732 1771 5111 5351 4798 5110 4750 546 7350 9927 4643 2521 3246 4306 9403 1950 1684 9879 6759 2164 6971 7702 2090 8454 6796 9341 2921 6698 1473 2742 9797 1919 9933 1397 5810 1826 7398 1956 9493 7522 8214 3049 5403 6470 620 9818 633 9627 2889 7603 549 4708 7853 5664 9618 4097 5620 1013 5421 3461 7242 2387 8165 4525 7771 9308 2311 4757 1307 4708 3704 7997 568 2000 2326 7601 7760 2313 3846 1207 858 834 8913 247 694 2137 8153 9827 6622 5570 1379 8940 8085 968 1265 3368 5237 1683 2498 2113 3270 699 1374 7700 8832 9600 5368 9044 4999 852 8409 5850 1055 7013 4722 4413 5965 6452 6013 4647 4897 7241 7383 4138 6805 3260 6716 407 8199 6537 6048 2933 2162 7468 9640 6580 952 1810 8466 8202 9259 6528 8970 4123 1828 1467 6938 2677 9966 5950 7229 2476 135 7545 9478 5470 7814 7233 965 5737 5548 5481 3214 6643 8357 8975 6608 9500 7677 2929 2122 302 9555 92 9184 4242 1732 9835 2446 5095 5698 3199 5905 7579 5687 3916 8500 8897 3130 6900 4454 8263 1908 5195 5363 8764 8378 3208 8406 4221 6636 8007 3239 2547 6939 2440 7945 1451 2793 7832 8565 5170 857 1527 100 3617 7380 4873 7807 1253 638 4591 6652 1588 1987 6598 4234 300 2638 6919 3888 4473 6513 946 9095 4546 9831 636 1390 5664 65 103 2517 8438 8687 4172 4779 9658 702 1202 4797 2410 3644 4766 475 5137 864 6780 2247 3479 2702 7588 4103 7151 9033 6095 9833 6736 3104 6489 531 5524 7490 9025 4623 8621 6374 7016 5138 7840 3076 871 4658 1341 5816 7555 3405 3651 2205 1352 575 901 4215 5404 1565 2107 2833 8786 7494 7934 2594 5398 5376 3194 112 9009 3113 7806 4978 6353 3440 2447 9421 9538 8715 7347 2756 4947 1502 4562 3358 2454 3517 4393 5383 7315 1830 4624 6849 2299 2315 9178 4564 1749 5042 4178 8872 4332 7597 7723 9226 7820 6219 868 1522 7465 1325 1375 1774 8621 71 6796 9123 7198 2765 8276 9214 3929 6033 5956 3393 2296 2490 706 4826 1704 2353 7695 1585 1120 6671 9906 1713 3361 993 4438 8244 1428 86 9848 9690 4042 99 819 4860 4653 8410 4532 2797 3896 3333 9241 9346 985 7293 8583 5402 2821 39 9911 2477 513 9403 8266 8905 3743 1766 5358 2028 6916 8210 497 2746 6840 1542 9436 1693 1933 3389 3094 5639 9207

```

- 实际输出：
  
```c++
32 39 65 71 86 92 99 100 103 112 135 247 300 302 407 475 497 513 531 546 549 568 575 620 633 636 638 694 699 702 706 744 819 834 852 857 858 864 868 871 901 946 952 965 968 985 993 1013 1055 1120 1202 1207 1209 1253 1265 1307 1325 1341 1352 1374 1375 1378 1379 1390 1397 1428 1431 1451 1467 1473 1474 1502 1522 1527 1542 1565 1585 1588 1683 1684 1693 1704 1713 1732 1749 1766 1771 1774 1810 1826 1828 1830 1908 1919 1933 1950 1956 1976 1987 2000 2019 2028 2090 2107 2113 2122 2137 2149 2162 2164 2205 2247 2296 2299 2304 2311 2312 2313 2315 2326 2335 2353 2387 2410 2440 2446 2447 2454 2476 2477 2490 2498 2500 2517 2521 2547 2565 2594 2599 2638 2677 2702 2709 2732 2742 2746 2756 2765 2793 2797 2821 2833 2889 2921 2929 2933 3026 3049 3076 3094 3104 3113 3130 3179 3194 3199 3208 3214 3239 3244 3246 3260 3270 3333 3358 3361 3368 3384 3389 3393 3405 3418 3440 3461 3479 3517 3600 3617 3638 3638 3644 3651 3704 3743 3846 3883 3888 3896 3916 3929 4042 4067 4087 4088 4097 4103 4123 4138 4152 4160 4172 4178 4186 4215 4221 4234 4242 4259 4306 4332 4375 4393 4413 4413 4425 4438 4454 4473 4525 4532 4546 4559 4562 4564 4591 4623 4624 4627 4630 4643 4647 4653 4653 4658 4708 4708 4722 4750 4757 4766 4779 4797 4798 4826 4837 4860 4860 4873 4897 4947 4978 4999 5042 5047 5089 5095 5110 5111 5123 5137 5138 5170 5195 5237 5292 5320 5345 5351 5358 5363 5368 5376 5383 5398 5402 5403 5404 5421 5470 5481 5524 5533 5548 5570 5603 5620 5639 5655 5664 5664 5687 5698 5737 5810 5816 5850 5905 5950 5956 5965 6013 6033 6048 6054 6095 6219 6247 6279 6294 6353 6356 6374 6452 6470 6476 6489 6513 6528 6537 6580 6598 6608 6622 6636 6643 6652 6671 6698 6716 6736 6759 6780 6796 6796 6805 6840 6849 6900 6916 6919 6938 6939 6971 7007 7013 7016 7025 7088 7091 7106 7110 7146 7151 7198 7229 7233 7241 7242 7293 7312 7315 7347 7350 7380 7383 7398 7437 7465 7468 7490 7494 7522 7545 7555 7579 7588 7597 7601 7603 7632 7657 7677 7695 7700 7702 7723 7760 7771 7806 7807 7814 7820 7826 7832 7840 7853 7934 7945 7993 7997 8007 8085 8153 8165 8199 8202 8210 8214 8244 8254 8263 8266 8276 8357 8378 8391 8406 8409 8410 8438 8454 8466 8500 8565 8583 8609 8621 8621 8628 8687 8715 8764 8786 8832 8872 8897 8905 8913 8940 8970 8975 9009 9025 9033 9044 9095 9123 9178 9184 9207 9214 9225 9226 9241 9242 9259 9308 9341 9346 9403 9403 9421 9436 9478 9493 9500 9538 9555 9600 9601 9618 9627 9640 9658 9690 9797 9797 9818 9827 9831 9833 9835 9848 9879 9882 9906 9911 9927 9933 9966

```

- 期望输出：
  
```c++
32 39 65 71 86 92 99 100 103 112 135 247 300 302 407 475 497 513 531 546 549 568 575 620 633 636 638 694 699 702 706 744 819 834 852 857 858 864 868 871 901 946 952 965 968 985 993 1013 1055 1120 1202 1207 1209 1253 1265 1307 1325 1341 1352 1374 1375 1378 1379 1390 1397 1428 1431 1451 1467 1473 1474 1502 1522 1527 1542 1565 1585 1588 1683 1684 1693 1704 1713 1732 1749 1766 1771 1774 1810 1826 1828 1830 1908 1919 1933 1950 1956 1976 1987 2000 2019 2028 2090 2107 2113 2122 2137 2149 2162 2164 2205 2247 2296 2299 2304 2311 2312 2313 2315 2326 2335 2353 2387 2410 2440 2446 2447 2454 2476 2477 2490 2498 2500 2517 2521 2547 2565 2594 2599 2638 2677 2702 2709 2732 2742 2746 2756 2765 2793 2797 2821 2833 2889 2921 2929 2933 3026 3049 3076 3094 3104 3113 3130 3179 3194 3199 3208 3214 3239 3244 3246 3260 3270 3333 3358 3361 3368 3384 3389 3393 3405 3418 3440 3461 3479 3517 3600 3617 3638 3638 3644 3651 3704 3743 3846 3883 3888 3896 3916 3929 4042 4067 4087 4088 4097 4103 4123 4138 4152 4160 4172 4178 4186 4215 4221 4234 4242 4259 4306 4332 4375 4393 4413 4413 4425 4438 4454 4473 4525 4532 4546 4559 4562 4564 4591 4623 4624 4627 4630 4643 4647 4653 4653 4658 4708 4708 4722 4750 4757 4766 4779 4797 4798 4826 4837 4860 4860 4873 4897 4947 4978 4999 5042 5047 5089 5095 5110 5111 5123 5137 5138 5170 5195 5237 5292 5320 5345 5351 5358 5363 5368 5376 5383 5398 5402 5403 5404 5421 5470 5481 5524 5533 5548 5570 5603 5620 5639 5655 5664 5664 5687 5698 5737 5810 5816 5850 5905 5950 5956 5965 6013 6033 6048 6054 6095 6219 6247 6279 6294 6353 6356 6374 6452 6470 6476 6489 6513 6528 6537 6580 6598 6608 6622 6636 6643 6652 6671 6698 6716 6736 6759 6780 6796 6796 6805 6840 6849 6900 6916 6919 6938 6939 6971 7007 7013 7016 7025 7088 7091 7106 7110 7146 7151 7198 7229 7233 7241 7242 7293 7312 7315 7347 7350 7380 7383 7398 7437 7465 7468 7490 7494 7522 7545 7555 7579 7588 7597 7601 7603 7632 7657 7677 7695 7700 7702 7723 7760 7771 7806 7807 7814 7820 7826 7832 7840 7853 7934 7945 7993 7997 8007 8085 8153 8165 8199 8202 8210 8214 8244 8254 8263 8266 8276 8357 8378 8391 8406 8409 8410 8438 8454 8466 8500 8565 8583 8609 8621 8621 8628 8687 8715 8764 8786 8832 8872 8897 8905 8913 8940 8970 8975 9009 9025 9033 9044 9095 9123 9178 9184 9207 9214 9225 9226 9241 9242 9259 9308 9341 9346 9403 9403 9421 9436 9478 9493 9500 9538 9555 9600 9601 9618 9627 9640 9658 9690 9797 9797 9818 9827 9831 9833 9835 9848 9879 9882 9906 9911 9927 9933 9966

```

### 5、实验总结与心得
- 链表版归并的难点是**边界与顺序**：定位 → 截断 → 归并 → 回接，任何一步遗漏都可能成环或丢链。
- 哑结点显著简化了头部变化，无需特殊处理头节点。
- 严格区分 `left/mid/right` 与其前驱/后继能有效避免错误处理将链表变成环状。

## __第三题__

### 1、实验题目


#### z6-Inversion Number

##### 题目描述

Let `A(1), ..., A(n)` be a sequence of n numbers. If `i<j and A(i)>A(j)`, then the pair `(i,j)` is called an inversion pair.
The inversion number of a sequence is one common measure of its sortedness. Given the sequence`A`, calculate its inversion number.

##### 输入描述

There are multiple cases.
Each case contains an integer `n (n<=100,000)` followed by `A(1) , ..., A(n)`.

##### 输出描述

For each case, output the inversion number.

##### 输入样例

```cpp
5
3 1 4 5 2
```

##### 输出样例

```cpp
4
```
##### 提示
The answer may exceed `2^31`.


### 2、实验目的
- 掌握“归并排序 + 计数”在线性对数时间内统计逆序对的方法。
- 理解辅助数组 `temp` 在归并时防止覆盖未处理数据的作用。

### 3、算法设计

#### 设计思路如下：
- **分治思路：**
- `divide(left,right)`：若区间长度 <= 1 返回 0；否则递归求解 `left..mid` 与 `mid+1..right` 的逆序对数，再在 `merge(left,mid,right)` 中统计**跨区间**的逆序对数。
- `merge` 归并时：当 `num[i] > num[j]`（右侧更小），说明左侧从 `i..mid` 的所有元素都大于 `num[j]`，一次性累加 `mid - i + 1`；无论哪边更小，都先写入 `temp`，最后再整体拷回 `num[left..right]`，保持两段有序不变式。

- **复杂度：** 与归并排序相同，时间 `O(nlog n)`，空间 `O(n)`；计数使用 `long long` 以防溢出。

#### 细节注意：

- 在`divide()`中，左右两段数据都已经存在`num`中，而且**已经排序**好。而`temp`仅仅作为一个缓存，记录正确的排序。在函数最后需要将`num`的对应部分**重新设置成**和`temp`一样的顺序。
- 传入的是`temp`的**引用**，避免过分开辟内存空间。

#### 具体实现：

```cpp
//z6-Inversion Number
#include<iostream>
#include<vector>
using namespace std;
typedef long long int ll;
ll merge(vector<ll > &num, ll left, ll mid, ll right,vector<ll>& temp){//
    //左右两部分已经排序好，先计算逆序对，在排序。
    ll sum=0;
    ll l=left, r=mid+1,p=left;
    while(l<=mid&&r<=right){
        if(num[r]<num[l]){
            sum+=mid+1-l;
            temp[p++]=num[r++];
        }
        else{
            temp[p++]=num[l++];
        }
    }
    while(l<=mid){
        temp[p++]=num[l++];
    }
    while(r<=right){
        temp[p++]=num[r++];
    }
    for(ll j=left;j<=right;j++ ){
        num[j]=temp[j];
    }
    return sum;
}
ll divide(vector<ll>& num, ll left, ll right, vector<ll >& temp){
    if(right>left){
        ll mid =(left+right)/2;
        ll sum=0;
        sum+=divide(num, left,mid,temp);
        sum+=divide(num, mid+1,right,temp);//算两部分的逆序对
        sum+=merge(num,left,mid,right,temp);//算跨越两部分的逆序对
        return sum;
    }
    else return 0;
}
ll inversion_number(vector<ll>& num){
    vector<ll> temp(num.size());
    return divide(num,0,num.size()-1,temp);

}
int main(){
    ll n;
    while(cin>>n){
        vector<ll> num(n);
        for(ll i=0;i<n;i++){
            cin>>num[i];
        }
        cout<<inversion_number(num)<<endl;
    }
    return 0;
}
```

### 4、程序运行与测试

#### 运行结果：

##### 数据点1

- 标准输入：
  
```cpp
50678
98207687 243481617 741938601 834390500 505305848 80055817 395643562 822153543 897241074 340915642 524652763 61551396 928727710 924915931 904454003 239580077 604887592 327283967 750163922 716969584 491572439 609776234 428614455 606075611 129072982 665549395 111373250 755973155 395124931 589291764 404953235 469887485 786252376 150025501 300115652 703706715 909056044 578248836 564276686 952101197 914364085 194576270 695386152 53759888 686509105 637412432 43719385 158451817 952114528 955233872 688248429 516181363 319974077 957087438 948164057 354709028 346652954 214322033 767692846 809660626 179841097 710726372 788350713 165698775 574595002 930575595 834620287 260891291 44267406 763923639 872973932 63592182 198847025 755253309 105965025 723345280 762954866 977290444 727012569 426776779 617898346 750061177 838656832 497032246 455634507 724793330 270823883 897066118 984197109 800434209 618194246 603274819 654917847 420755999 372115550 222460982 822526549 334088577 925413181 934557816 495198118 875968503 620770927 59113066 375988774 530359045 781488826 951398681 841806829 467577769 408668601 425914325 419789769 594672532 97640546 292321706 300195311 634088027 86846416 456503644 217768291 440623364 327083862 262393014 394153816 72124157 296289507 507609937 649753140 993577139 523165752 694083712 945780641 692677295 734510708 118284422 104824996 445165818 409307602 344313955 644720193 211924079 898188215 889516065 741723118 179693709 959186690 291495736 798873083 342067681 830583528 662210171 845400316 683883768 690886184 467278293 840851730 814040789 374438975 215328123 273524842 54319775 311227788 155572879 705284797 656562828 611579945 166576631 818171538 345412166 88949351 841530929 345731947 53969893 186070264 302782984 953635682 717083217 553028662 485724590 960379348 491432835 576641422 826383629 852073107 156758993 416088020 642183987 378053635 461435081 246307558 905669658 599967807 583166896 575176902 903121207 930098519 674467705 456805751 877563755 731681460 961303517 830833346 915278584 529937438 817847066 989090200 28987622 524452445 56175676 147116295 961815025 388560905 870325752 10546396 763320226 935174406 781460538 46318279 401346409 828951155 739784499 127443890 67135000 787885097 318903028 582745231 263465071 587978596 620124253 527337194 574327597 400791744 743620387 927117998 379292960 483743980 250222616 472273716 381123689 346716998 258707490 553472248 25222263 995389980 656887365 492531490 799143855 547932726 47970036 522012469 207651612 925393871 910590453 137848789 899355949 510828617 393549512 864489407 122512000 933048734 700649250 323765733 253249264 630932318 150507037 568018321 185668111 598792954 905518148 79542650 840151509 602390961 654732799 669220576 796148638 778516230 26855023 417976293 672419561 821304811 54485625 573972082 862139911 348009351 697690509 263283266 927031093 80891797 824619854 433959351 554311823 99111909 708131457 620873054 342642583 970825977 183535543 253396028 168332462 765250761 560052632 95922776 999052355 554333156 203345330 937918396 122962517 62900155 801268953 428372542 81704665 856949762 132970025 980573681 943311374 751622276 482335399 717689251 259065975 801537618 621308379 293921560 787650714 352908778 447956974 398941423 621505539 428471793 26237111 21483693 210946381 998695387 763811583 728898980 262909595 234836646 772717824 407947554 392943232 671959589 870143616 795195859 428823424 217295454 191940816 739318502 305771529 435226918 598123336 57231607 708274857 927335638 486206570 101486118 334777309 293878809 76983542 308369563 711758415 227971956 658303895 614906184 714646748 490769318 300265836 76980504 959891770 390503108 426152554 543621163 367500187 959381441 647362343 16675184 670832411 370912342 189042411 575348861 175394710 210060751 998105247 695814268 188896154 971140367 944687858 260001773 236685326 649989533 575715338 469505437 983641713 207489886 407502059 627300279 768867277 916323992 618643240 488033696 311401341 347785024 916162239 598952992 354395106 753933466 466647478 174437299 447796046 126114007 293459949 769435090 966461538 995300226 587825508 495093958 448664900 919054287 69914679 822799404 471145046 872512147 366052468 19207891 992126330 203627685 853953387 384405906 173548661 757043504 563088183 760187627 594350611 954152334 578830421 456689200 781372903 381361830 928917511 402753411 931513194 924506284 541290536 295330734 64013390 200357628 763833805 211996817 837596808 182376984 423064174 398191652 631261418 834683517 475264909 924183720 98363620 46701562 211562918 268897529 366844593 922727334 146197440 773551989 93716003 434550842 900211142 886342505 487347401 707821485 413562620 844513657 808221343 955616665 89216544 588323143 817618565 909321756 507711207 515081538 897514842 978384488 832298375 961345147 487903250 139873580 263311326 230042944 192567297 268876434 699053043 691471909 174516124 674810697 424910881 151591383 238306964 774641060 185672691 698317304 245040458 708265169 915432226 980192002 731057837 831847916 657190898 642795395 522820615 114753184 270161659 34165125 428359388 711151762 227609679 299514421 370783176 54525901 863791259 134127261 714360865 854988736 780738846 623736576 813555642 525467754 77125001 489512889 457322821 416789298 152931711 996900520 782631092 86500226 299841266 997817460 543821343 478303604 73974182 496119519 183680364 907335233 514586510 625929932 485362108 236644687 805568268 205793661 290003603 960965149 359906935 323855382 212535483 239175924 808505201 711429938 304635143 365526052 800580995 986306237 787431422 369920285 962992165 410114653 904230754 169405197 877033776 947647820 942425459 395478330 765006721 384439492 284646348 971815410 86975811 948299328 369302224 466174094 381368799 816591140 646195317 392356207 705080106 183665429 815371550 819010253 388565248 842085573 893317787 164554126 671728205 373903871 220854009 988707607 829831108 772063719 323772410 55902625 997029911 196891237 396009277 598040987 360533814 840933613 917711529 636002641 877416210 407893231 585990378 554268161 573121604 959971450 491877984 600108639 102848212 260533637 542444713 681022258 55239385 726651216 444195085 670559890 858764595 221297682 30412680 608958914 51235730 693798456 836269663 918121092 189636297 65349979 549323401 239802135 672950945 167069104 539246144 990953280 304010598 900983461 625886255 17901049 312399673 441364648 649914756 175572006 430740771 545709743 770628362 918623234 943515366 904179319 891871351 478100866 244538287 730231152 329062129 342567031 196210261 376646066 608960568 55788581 887366595 247362830 521197555 830660741 945361120 673331376 91042683 278053972 877560652 301810393 271781272 703449578 48193589 102721813 831491302 993603962 823106848 291912199 228546531 999808863 55389435 326828031 707229802 526818657 436880556 777126300 216179270 393125079 511198903 142629830 240134238 822420806 206546953 95414945 79180981 692628841 891775014 169730882 97639995 856952854 395420657 597851742 618905520 493985460 252354379 905688008 291731083 861759316 250611317 851224749 968344837 788178513 993773969 540850629 541339158 36575439 843166540 929938131 175567350 783664204 944641007 922609143 648077597 567372122 284563902 877626281 891528306 952928804 355728950 385407953 347185121 465982372 781278644 74300369 371855010 121400254 589232747 629730167 631426046 452418430 11260907 894077946 708614075 583215518 702493397 329480521 113837163 827343676 795150453 194856663 793728881 79446127 973217869 352704086 152900833 331546283 211131725 983208572 894541544 774412575 606716993 293925585 678207662 382764001 367507283 724198724 852596923 267494071 637444741 986565304 51291304 926822337 198062660 913972874 956017170 339369691 521839467 775817181 542629652 432275608 892214727 326851215 505441057 281373570 738803205 652594601 655957406 85397045 542119610 658296400 628424480 594958531 599824175 958559309 436019723 607634492 631801736 452143797 256377368 287898933 543851915 701341159 918280483 252726108 254596264 18641364 992162479 929992578 38288736 714643271 410801140 552599494 301480750 32927281 335773933 278990028 620260112 990209887 73720705 197223439 132336775 582318545 986301135 618067529 1675767
```

- 实际输出：
  
```cpp
644522972

```

- 期望输出：
  
```cpp
644522972

```

##### 数据点2

- 标准输入：
  
```cpp
20701
352125598 758780116 578280270 550441682 561673814 710436570 27713218 224459541 56725008 779955019 725207533 639454764 906851637 59276549 396545430 201385968 432564780 288828336 611298108 187268504 384164473 819325658 246262893 122631047 380691359 578543306 922027238 923838355 303578891 582250932 505142827 981052935 378247655 404115135 867735696 559105646 214961617 493987676 12206763 434881162 184720137 691275993 751312040 121571309 75411397 650406907 617227016 805911573 224665531 151134590 589666823 862188534 894960957 264066730 780618160 793779175 447089803 230284045 125730802 928130012 422188810 945835388 630647601 886337235 695085899 473927567 826586258 258230901 563423067 535096113 810406254 850880489 910298351 195858976 346742191 353878882 340551646 527609722 569659658 337073815 628575897 582694748 89642451 982217437 49957386 990786483 361736717 274157450 485459684 537544216 310673719 830717237 536150134 64268189 826347504 954511678 643900509 828980417 434948494 767634704 326314492 563927316 462921406 909544595 862116051 780266846 633001774 984245935 926302105 42435659 850079921 670476914 434883328 62523854 190196054 112248423 46697960 14294835 564704983 698829547 751688932 229893871 247801131 708535166 64870118 166869495 691497978 146644717 13780021 572584235 163930522 290329239 826752591 381522608 731209459 493377160 206987685 435944544 621951122 115670815 789338282 982369826 311576932 750496558 49809723 655599184 147491709 307855191 49421421 306953390 308928419 832829431 920030760 761124188 862034678 676099619 705966272 57461392 265752305 390332280 66611163 429584935 548898313 876425929 583361295 854475770 891083085 564344469 947887728 494664213 163830944 989495629 960204703 902174103 280859974 983458608 258776276 570008661 519441662 43985461 855228765 182962129 776978790 543718517 186638994 116271283 431157999 169783793 363635051 264809257 392540771 158383019 97801593 642512317 916998229 546499114 776825315 344622892 571071474 16436706 746443971 238297736 931715299 426253983 582294260 488551422 549744869 403877995 956935832 328444105 258808406 950010133 628238524 801377020 624564990 387785233 538424775 202284421 559315077 217966133 581909698 424011037 388373151 683094355 792383559 721184279 836180367 950120318 761042302 929088560 900521493 642284252 619598928 369492202 386728464 781806035 892637427 402920784 819214543 795466528 420845272 10034599 706814626 223245789 723734818 243334999 341712090 416720232 302584595 710272801 306673357 745082960 549846743 854677021 617921250 440307739 716248865 152629028 938736717 859257295 811151819 471856929 504092170 561179396 133933173 372513892 278027311 833657272 819441618 741613121 854739694 249358612 384028506 769526602 65290863 429068979 460867468 804061341 202042409 785708198 63452853 571161218 135135257 269594016 484250612 747279548 241205946 532254207 699545957 994325760 679833309 865005943 227537886 775573801 125418965 495482710 889860272 155653846 573151410 387107581 933326788 64409427 525148458 700343843 553744802 987621416 135461828 225475073 930504252 383382658 441477486 937681185 410328548 420484377 362240792 707888292 537752664 532714597 352260943 968003692 425835985 166838942 474349421 143281389 519518912 921586549 422693244 253717312 64487565 799013268 545225784 553861668 677304683 474941320 626104526 444003653 276370346 815900439 73350639 178733850 584893483 281788130 661275803 87091762 746180975 184866644 457912742 413482449 66707296 967396436 368981419 529618237 674760423 696726658 845754527 615186908 252655981 693449969 411190562 736752981 233704622 565475630 828279441 563917267 140276372 616304323 408137253 300470066 397575213 461564243 652945549 376828544 606786282 81312072 503300614 20390238 78572866 97643520 841186045 852484559 388521752 912822302 332723258 754701499 251040259 42888430 406153815 489569992 130146490 14131173 697191879 534198672 147961834 679415052 823318219 99525545 887961361 483564821 741986259 836370810 583819240 381500699 498854539 691311340 422875721 281009425 834648667 410935744 638161953 539567904 704669081 536664451 970988766 638139312 56685949 799249951 530317518 695176104 907320048 548678107 983365275 502518500 827037853 930331230 893267188 795792549 525257093 387272208 479053737 158263895 758108877 391589255 937724165 820678929 59097652 677101276 933842163 678268851 825018593 34096524 184266723 452042733 22586704 92076674 410533837 41325985 873833417 487482225 290588669 65471639 115839196 230748915 721834958 215385123 513512188 919290939 294194095 804202480 945637940 975988310 584667505 470177581 663392408 739164881 459475086 105196313 576811646 285491796 556350648 927467655 134309506 535334252 900954042 291897572 631944200 727391600 423529396 947324776 972678950 541900577 788341294 549674244 345526996 341312707 890108814 855010055 912803870 566638098 753673874 783413774 93995152 182870597 310153955 235456162 905916030 533536941 556259672 30397193 446783307 736123676 865926744 945932307 743383069 786088000 586719737 337526499 792773242 640472399 177786409 787793895 709710265 390075575 844713457 461066919 743586046 14988089 494946752 78015629 651068914 743535282 952475294 871246136 814127442 700613165 586121122 609362041 301683878 242193592 75381542 110396062 892293650 863837404 959463023 60995905 809709518 400314424 327952206 903878434 680809464 823274490 444276085 969310938 433183102 866328498 623517897 54587079 623669065 762863362 976218792 191681795 467068389 428555727 661074516 632778735 968345055 968430651 760570321 445277503 24601715 15685134 434637424 676308814 672489701 339145432 819179157 113820452 709654147 429579902 320377212 775195421 750496293 107041789 948900681 748002365 918411913 699434731 451812090 259343954 937507375 31765085 101063616 746475996 726456832 774412402 218434827 970572989 150481761 739106762 890419732 883914444 239966121 990999213 49024241 847874764 215543980 616999747 944364308 832388124 65227642 295631167 638660302 741490675 536184387 74609875 442864293 954884024 815608578 822312727 94415375 572601614 284154626 127760298 824275750 731192417 370403186 545599985 223876997 162669518 556768206 673433477 109541036 861029072 263504189 734060021 50519222 601721177 708401872 219529507 678621952 676631135 681535387 500723659 818181815 241303884 546472990 314490732 416562031 589653634 227160772 524972151 802254730 438111985 767845844 876167160 456677181 536769988 367906052 275333507 786109087 446053610 131002043 135545130 687310357 273404074 949784049 580673580 664917407 14296317 828275795 138146076 148544391 962339098 876762256 282475455 526426665 691890897 676669649 586819655 320996774 621389394 816877913 565313642 61569072 254610647 74096672 475602524 16260997 642059618 141764215 335585310 154465365 77944764 711011213 283358861 822202087 547570286 90972643 927546477 302345620 329891656 223022726 997221740 810379570 765442806 436736685 168423054 402638662 722334166 512598770 828286503 666399423 391008349 740577412 724149068 666582216 768126010 281398035 664352487 593950964 902880122 142593424 801952081 658414468 626682193 836147299 84196021 898150212 813360043 707594224 330216772 89936304 290934441 149313584 876852552 280306365 743615206 488449398 852674036 849376896 327172988 814180507 688758412 190052472 416620829 213055890 819882957 888963033 949176199 463747702 498547667 28201238 367221104 226569794 986599575 551644393 454970934 188563577 238631540 404146402 40466996 83228880 450210361 369601525 249222041 332646705 381362704 584785599 707931522 434031164 147163194 310520256 748415423 386086732 649516599 448864389 647249583 619719665 439180524 619400372 172965455 710023014 638474369 807112877 698129341 689018888 612257727 907334557 400254326 202312810 407937636 39496270 466836361 697756663 917083914 628044900 308956770 458741571 528461435 59963857 374701381 169605589 68667155 549284213 200380012 867510310 22087971 462678327 295440929 96457394 238750526 671708483 825022621 59609035 671075746 500125987 376019491 300385811 812676293 882632409 255345603 723448876 745394615 134135401 255214906 544702960 240524506 725538533 354655460 49064418 962204194 403658925 423969962 532151937 536084533 877336051 446784066 91
```

- 实际输出：
  
```cpp
107839546

```

- 期望输出：
  
```c++
107839546

```

### 5、实验总结与心得
- 关键体会是“**在归并时顺手计数**”与“**用 temp 隔离读写**”。
- 与 `O(n^2)` 暴力相比，归并计数在规模上万时仍能稳定通过；实现时注意边界与类型（`long long`）。
